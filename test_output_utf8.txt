
   FAIL  Tests\Feature\Auth\AdminRedirectionTest
  Ô¿» admin isÔÇª  5.66s  
  Ô£ô client isÔÇª 0.14s  
  ÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇÔöÇ  
   FAILED  Tests\FÔÇª   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

Spatie\Permission\Exceptions\RoleDoesNotExist: There is no role named `admin` for guard `web`. in C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Exceptions\RoleDoesNotExist.php:11
Stack trace:
#0 C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Models\Role.php(111): Spatie\Permission\Exceptions\RoleDoesNotExist::named()
#1 C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Traits\HasRoles.php(419): Spatie\Permission\Models\Role::findByName()
#2 C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Traits\HasRoles.php(131): App\Models\User->getStoredRole()
#3 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Collections\Traits\EnumeratesValues.php(825): App\Models\User->{closure:Spatie\Permission\Traits\HasRoles::collectRoles():126}()
#4 C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Traits\HasRoles.php(126): Illuminate\Support\Collection->reduce()
#5 C:\Users\ENPEI\e-commerce\vendor\spatie\laravel-permission\src\Traits\HasRoles.php(150): App\Models\User->collectRoles()
#6 C:\Users\ENPEI\e-commerce\app\Http\Controllers\Auth\AuthenticatedSessionController.php(48): App\Models\User->assignRole()
#7 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\Auth\AuthenticatedSessionController->store()
#8 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#9 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#10 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#11 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}()
#12 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Auth\Middleware\RedirectIfAuthenticated.php(47): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}()
#13 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\RedirectIfAuthenticated->handle()
#14 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#15 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle()
#16 C:\Users\ENPEI\e-commerce\vendor\inertiajs\inertia-laravel\src\Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#17 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Inertia\Middleware->handle()
#18 C:\Users\ENPEI\e-commerce\app\Http\Middleware\LocalizationMiddleware.php(28): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#19 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): App\Http\Middleware\LocalizationMiddleware->handle()
#20 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#21 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#22 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#23 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle()
#24 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\View\Middleware\ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#25 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle()
#26 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#27 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Session\Middleware\StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest()
#28 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle()
#29 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#30 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle()
#31 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Cookie\Middleware\EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#32 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle()
#33 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#34 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#35 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#36 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#37 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#38 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#39 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}()
#40 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}()
#41 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#42 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#43 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#44 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#45 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#46 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#47 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#48 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#49 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#50 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#51 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#52 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#53 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#54 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#55 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#56 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#57 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#58 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}()
#59 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#60 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#61 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#62 C:\Users\ENPEI\e-commerce\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call()
#63 C:\Users\ENPEI\e-commerce\tests\Feature\Auth\AdminRedirectionTest.php(19): Illuminate\Foundation\Testing\TestCase->post()
#64 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\Framework\TestCase.php(1667): Tests\Feature\Auth\AdminRedirectionTest->test_admin_is_redirected_to_admin_dashboard()
#65 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\Framework\TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#66 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#67 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\Framework\TestCase.php(365): PHPUnit\Framework\TestRunner->run()
#68 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#69 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#70 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#71 C:\Users\ENPEI\e-commerce\vendor\phpunit\phpunit\phpunit(104): PHPUnit\TextUI\Application->run()
#72 {main}

----------------------------------------------------------------------------------

There is no role named `admin` for guard `web`.

  at tests\Feature\Auth\AdminRedirectionTest.php:24
     20Ôûò             'phone' => $admin->phone,
     21Ôûò             'password' => 'password',
     22Ôûò         ]);
     23Ôûò 
  Ô×£  24Ôûò         $response->assertRedirect(route('admin.dashboard'));
     25Ôûò     }
     26Ôûò 
     27Ôûò     public function test_client_is_redirected_to_products_index(): void
     28Ôûò     {


  Tests:    1 failed, 1 passed (3 assertions)
  Duration: 6.33s

